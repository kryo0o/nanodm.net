---
title: "0909 升级到后续版本磁盘挂载相关问题"
date: 2019-04-03T20:55:19+08:00
slug: 0909-upgrade-to-new-notice
lastmod: 
tags: ["磁盘挂载", "升级"]
categories: ["升级"]
draft: false
---



0909老固件用户升级注意
-------------------

0909 之后的版本，典型的是0326及之后的版本， 挂载机制改变了。
`/dev/sda1` 不再是自动挂载到 `/media/sda1`, 而是根据卷标（`label`)来挂载，如果label为空怎么办？那么会按`UUID`来挂载。
这两种情况，会导致从旧版本升级的 qb 中的做种中的任务，找不到磁盘上的文件了。
（因为你原来在qb里设置的路径可能是如`/media/sda1/qbittorrent/download` 这种目录）

如何解决这个问题呢？

假设你原来 /dev/`sda1` 是挂载到的 /media/`sda1`

现在新版本的系统，你只需要刷机完成，恢复qb， tr等配置之后，改`label`为 `sda1` 了， 再重新拔插一次磁盘即可。

（然后分区会自动挂载到 `/media/sda1` ）

这时候，qb, tr, aria2等的配置路径，都不需要动，就能正常工作。

如果这时（新label生效后）qb（或tr, aria)已经启动了，则要重启一下qb（或tr, aria)进程。

另外： **常识问题，label必须唯一....** 

--------------------------------

为什么挂载机制会有这种改变？
----------------------

> 主要是N1有多个USB口，而大家通过HUB也可能插入更多的磁盘。
> 如果按以前的机制， /dev/sda1挂载到/media/sda1, 这个结果是不能保证每次启动后都一样的。
> 也就是说，很可能，你原来的sda1这个磁盘，重启后变成了sdb1 挂载到了/media/sdb1 ,这就会造成
> 下载和做种失败。
> 0327之后固件的这种改变，正是为了改进这一点。

--------------------------------

如果我之前没有做种的任务，我是刚刷机的，需要这样做吗？
----------------------

答案是：不需要。
新刷机用户，可以直接将label设置成自己喜欢的名字（纯英文，不要有空格和特殊字符），
比如 movie 或  storage 这种......
